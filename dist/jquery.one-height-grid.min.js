/*! jquery.one-height-grid 13-02-2014 */
!function(a){var b=function(b){var c=this;this.render=function(){return this.element.each(function(){c.el=this,c.$el=a(this),e()})},this.element=b,this.el=b,this.$el=a(b),this.options={rowSelector:".one-height-grid-row",cellSelector:".one-height-grid-cell",cellMargin:0,parentWidth:0,regenerateFlag:!1};var d=function(){c.options.cellMargin=c.$el.data("margin"),"off"!=c.$el.data("resize")&&a(window).on("resize",function(){e()})},e=function(){c.options.parentWidth=c.$el.width(),a(c.options.rowSelector).each(function(){if(c.$el.width()!=c.options.parentWidth&&c.options.regenerateFlag===!1)return c.options.regenerateFlag=!0,e(),!0;var b=a(this).find(c.options.cellSelector),d=new Array,f=new Array,g=new Array,h=1e5;a(b).each(function(){var b=parseInt(a(this).data("width")),c=parseInt(a(this).data("height"));h>c&&(h=c),d.push(b),f.push(c),g.push(b/c)});for(var i=0,j=0;j<d.length;j++)d[j]=h*g[j],i+=d[j];g=(c.options.parentWidth-(d.length-1)*c.options.cellMargin)/i,h=Math.round(h*g),i=0;for(var j=0;j<d.length;j++)d[j]=Math.round(d[j]*g),i+=d[j],a(b).eq(j).css({height:h+"px",width:d[j]+"px",marginBottom:c.options.cellMargin+"px"}),j!=d.length-1?(a(b).eq(j).css({marginRight:c.options.cellMargin+"px"}),i+=c.options.cellMargin):c.options.parentWidth<i&&(d[j]=d[j]-(i-c.options.parentWidth),a(b).eq(j).css({width:d[j]+"px"})),a(b).eq(j).trigger("render:finish")}),c.options.regenerateFlag=!1};d()};a.OneHeightGrid={version:1,author:"Copyright 2014 (C) Inspirativ",counter:0},a.fn.extend({OneHeightGrid:function(a){return new b(this,a)}})}(jQuery);